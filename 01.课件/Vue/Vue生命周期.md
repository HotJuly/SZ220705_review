# Vue生命周期

1. 请问Vue中一共有多少个生命周期?
   1. 严格来说Vue一共具有12个生命周期
      1. 其中前端渲染有11个,后端渲染1个
      2. 在前端渲染的生命周期中,常用8个
2. 阶段划分
   1. 初始化阶段
      1. beforeCreate
         1. **beforeCreate之前,Vue正在初始化事件和生命周期**
      2. created
         1. 发送请求
            1. 优点:created生命周期触发时间更早,那么在这里发请求,就会更早出去,相对的就会更早回来
         2. 注意:一定不要在这里做一些复杂的逻辑操作,很可能会影响到组件挂载的时间
         3. **beforeCreate之后created之前,Vue正在初始化注入和初始化响应式**
            1. **注入:数据代理就是注入的一员,其实注入就是将data,props,computed,methods,$data等数据全部在组件实例this身上来一份**
            2. **响应式:就是将data中的属性全部进行数据劫持,变成具有get/set方法的访问描述符**
      3. beforeMount
         1. **created之后beforeMount之前,Vue会找到需要解析的模版,并将模版解析成为render函数**
            1. **模版查找优先级:render->template->el**
            2. **注释:render函数的作用,就是用来创建一个组件的虚拟DOM的**
         2. **注意:网上的答案都是说beforeMount之前就会调用render创建虚拟DOM,实际上并不会**
      4. mounted
         1. 发送请求
            1. 优点:这里做事情,说明组件都已经挂载结束了,对代码的影响比较小,而且这里比较适合新手做事情
         2. 操作真实DOM
            1. new Swiper
            2. betterScroll
         3. 开启定时器
         4. 绑定自定义事件
            1. 全局事件总线
         5. **beforeMount之后mounted之前,Vue会调用render函数,生成虚拟DOM,在根据虚拟DOM生成真实DOM,并替换掉页面上指定的el区域**
   2. 更新阶段
      1. beforeUpdate
         1. 此处可以获取到当前最新的状态数据,但是拿不到最新的DOM节点
      2. updated
         1. 此处可以获取到当前最新的状态数据,也可以拿到最新的DOM节点
         2. 所以很可能在这里二次操作真实DOM
   3. 卸载阶段
      1. beforeDestory
         1. 清除未触发的定时器
         2. 解绑事件
            1. 使用@符绑定的原生DOM事件,是否需要手动解绑?
               1. 不需要,因为正常情况下,组件卸载的时候,内部的真实DOM也会销毁,那么他的事件也会被垃圾回收机制自动回收
                  1. 扩展:除了垃圾IE以外,IE中很可能会出现DOM节点已经销毁,事件回调函数还在的效果
            2. 使用addEventListener或者on语法绑定的原生DOM事件,是否需要手动解绑?
               1. 一般需要,因为平常开发中这两个语法只会对document或者window使用,这两个对象只要项目不销毁,不管哪个组件销毁了,他都存活
            3. 使用@符或者$on绑定的自定义事件,是否需要手动解绑?
               1. 不需要,因为每个组件具有哪些自定义事件,Vue都知道,所以在组件卸载的时候,Vue会自动解绑该组件的所有自定义事件
            4. 使用$on绑定的全局事件总线,是否需要手动解绑?
               1. 需要,因为全局事件总线对象是存放在Vue的原型对象上的,无论哪个组件卸载,他都不会销毁,所以他身上的事件需要及时卸载,否则会出现遗留问题
      2. destoryed
   4. keep-alive专用
      1. activated(激活)
      2. deactivated(失活)
   5. 捕获报错专用
      1. errorCaptured
   6. 后端渲染专用
      1. serverPrefetch